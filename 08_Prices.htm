<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="goxygen" />
  <meta name="author" content="Fotis Sioutas" />
  <meta name="author" content="Giannis Tolios" />
  <meta name="author" content="Giorgos Plessias" />
  <meta name="author" content="Anastasis Giannousakis" />
<title>OPEN PROM –  8. Prices module</title>
<link rel="stylesheet" href="ming/style.css">
<script async src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS_CHTML-full"></script>
<script type="text/x-mathjax-config">
                    MathJax.Hub.Config({
                      CommonHTML: { linebreaks: { automatic: true } },
                      "HTML-CSS": { linebreaks: { automatic: true } },
                             SVG: { linebreaks: { automatic: true } }
                    });
</script>
</head>
<body>
<div class="header">
      <div class="headerimg"><a href="index.htm"><img id="logo" src="images/logo.png" height="100" alt="model logo" /></a></div>
    <div class="headertext">
      <h1 id="mainheadertitle"><a href="https://github.com/e3modelling/OPEN-PROM">OPEN PROM</a></h1>
      <h3>0.1</h3>
      <div class="by">created with <a href="https://github.com/pik-piam/goxygen">goxygen</a> 1.4.6</div>
    </div>
</div>

<div class="pagenav" id="pagenav">
    <div class="dropdown">
   <button class="dropbtn"> 8. Prices module
     <i class="fa fa-caret-down"></i>
   </button>
   <div id="mainnav" class="dropdown-content">
   <a href='index.htm'>Overview</a>
   <a href='core.htm'>core</a>
   <a href='01_Transport.htm'> 1. Transport module</a>
   <a href='02_Industry.htm'> 2. Industry module</a>
   <a href='03_RestOfEnergy.htm'> 3. RestOfEnergy module</a>
   <a href='04_PowerGeneration.htm'> 4. PowerGeneration module</a>
   <a href='05_Hydrogen.htm'> 5. Hydrogen module</a>
   <a href='06_CO2.htm'> 6. CO2 module</a>
   <a href='08_Prices.htm'> 8. Prices module</a>
   </div>
  </div>
  <div class="dropdown">
   <button class="dropbtn">Contents
     <i class="fa fa-caret-down"></i>
   </button>
   <div class="dropdown-content">
   <ul>
   <li><a href="#id-08_Prices" id="toc-id-08_Prices">Prices module
   (08_Prices)</a>
   <ul>
   <li><a href="#description" id="toc-description">Description</a></li>
   <li><a href="#interfaces" id="toc-interfaces">Interfaces</a>
   <ul>
   <li><a href="#input" id="toc-input">Input</a></li>
   <li><a href="#output" id="toc-output">Output</a></li>
   </ul></li>
   <li><a href="#realizations" id="toc-realizations">Realizations</a>
   <ul>
   <li><a href="#a-legacy" id="toc-a-legacy">(A) legacy</a></li>
   </ul></li>
   <li><a href="#definitions" id="toc-definitions">Definitions</a>
   <ul>
   <li><a href="#objects" id="toc-objects">Objects</a></li>
   <li><a href="#sets" id="toc-sets">Sets</a></li>
   </ul></li>
   <li><a href="#see-also" id="toc-see-also">See Also</a></li>
   <li><a href="#references" id="toc-references">References</a></li>
   </ul></li>
   </ul>
   </div>
  </div>
</div>

<h1 id="id-08_Prices">Prices module (08_Prices)</h1>
<h2 id="description">Description</h2>
<p>This is the Prices module.</p>
<h2 id="interfaces">Interfaces</h2>
<figure>
<img src="images/interfaces_Prices.png"
style="width:100.0%;height:50.0%" alt="Interfaces to other modules" />
<figcaption aria-hidden="true">Interfaces to other modules</figcaption>
</figure>
<h3 id="input">Input</h3>
<table style="width:96%;">
<caption>module inputs (A: legacy)</caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 36%" />
<col style="width: 23%" />
<col style="width: 5%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"> </th>
<th style="text-align: center;">Description</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">A</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">VMVCostPowGenAvgLng<br />
(allCy, ESET, YTIME)</td>
<td style="text-align: center;">Long-term average power generation
cost</td>
<td style="text-align: center;"><span
class="math inline">\(US\$2015/kWh\)</span></td>
<td style="text-align: center;">x</td>
</tr>
</tbody>
</table>
<h3 id="output">Output</h3>
<table>
<caption>module outputs</caption>
<colgroup>
<col style="width: 34%" />
<col style="width: 42%" />
<col style="width: 23%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"> </th>
<th style="text-align: center;">Description</th>
<th style="text-align: center;">Unit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">VMVPriceElecInd<br />
(allCy, YTIME)</td>
<td style="text-align: center;">Electricity index - a function of
industry price</td>
<td style="text-align: center;"><span
class="math inline">\(1\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">VMVPriceElecIndResConsu<br />
(allCy, ESET, YTIME)</td>
<td style="text-align: center;">Electricity price to Industrial and
Residential Consumers</td>
<td style="text-align: center;"><span
class="math inline">\(US\$2015/KWh\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">VMVPriceFuelAvgSub<br />
(allCy, DSBS, YTIME)</td>
<td style="text-align: center;">Average fuel prices per subsector</td>
<td style="text-align: center;"><span
class="math inline">\(k\$2015/toe\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">VMVPriceFuelSubsecCarVal<br />
(allCy, SBS, EF, YTIME)</td>
<td style="text-align: center;">Fuel prices per subsector and fuel</td>
<td style="text-align: center;"><span
class="math inline">\(k\$2015/toe\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">VMVPriceFuelSubsecCHP<br />
(allCy, DSBS, EF, YTIME)</td>
<td style="text-align: center;">Fuel prices per subsector and fuel for
CHP plants</td>
<td style="text-align: center;"><span
class="math inline">\(kUS\$2015/toe\)</span></td>
</tr>
</tbody>
</table>
<h2 id="realizations">Realizations</h2>
<h3 id="a-legacy">(A) legacy</h3>
<p>This is the legacy realization of the Prices module.</p>
<pre><code>Equations</code></pre>
<p>*** Prices</p>
<pre><code>QPriceFuelSepCarbonWght(allCy,SBS,EF,YTIME)                &quot;Compute fuel prices per subsector and fuel, separate carbon value in each sector&quot;</code></pre>
<p><strong>Interdependent Equations</strong></p>
<pre><code>Q08PriceElecIndResConsu(allCy,ESET,YTIME)                  &quot;Compute electricity price in Industrial and Residential Consumers&quot;
Q08PriceFuelSubsecCarVal(allCy,SBS,EF,YTIME)               &quot;Compute fuel prices per subsector and fuel, separate carbon value in each sector&quot;
Q08PriceFuelAvgSub(allCy,DSBS,YTIME)                       &quot;Compute average fuel price per subsector&quot;   
Q08PriceElecIndResNoCliPol(allCy,ESET,YTIME)               &quot;Compute electricity price in Industrial and Residential Consumers excluding climate policies&quot;
Q08PriceFuelSubsecCHP(allCy,DSBS,EF,YTIME)                 &quot;Compute fuel prices per subsector and fuel especially for chp plants&quot;
Q08PriceElecInd(allCy,YTIME)                               &quot;Compute electricity industry prices&quot;
;
Variables</code></pre>
<p>*** Prices Variables</p>
<pre><code>VPriceFuelSepCarbonWght(allCy,SBS,EF,YTIME)                &quot;Fuel prices per subsector and fuel  mutliplied by weights (kUS$2015/toe)&quot;</code></pre>
<p><strong>Interdependent Variables</strong></p>
<pre><code>VMVPriceElecIndResConsu(allCy,ESET,YTIME)                  &quot;Electricity price to Industrial and Residential Consumers (US$2015/KWh)&quot;
VMVPriceFuelSubsecCarVal(allCy,SBS,EF,YTIME)               &quot;Fuel prices per subsector and fuel (k$2015/toe)&quot;
VMVPriceFuelAvgSub(allCy,DSBS,YTIME)                       &quot;Average fuel prices per subsector (k$2015/toe)&quot;
VMVPriceElecIndResNoCliPol(allCy,ESET,YTIME)               &quot;Electricity price to Industrial and Residential Consumers (US$2015/KWh)&quot;
VMVPriceFuelSubsecCHP(allCy,DSBS,EF,YTIME)                 &quot;Fuel prices per subsector and fuel for CHP plants (kUS$2015/toe)&quot;
VMVPriceElecInd(allCy,YTIME)                               &quot;Electricity index - a function of industry price (1)&quot;</code></pre>
<p>*** Miscellaneous</p>
<pre><code>VFuelPriSubNoCarb(allCy,SBS,EF,YTIME)                      &quot;Fuel prices per subsector and fuel  without carbon value (kUS$2015/toe)&quot;
;</code></pre>
<p>GENERAL INFORMATION Equation format: “typical useful energy demand
equation” The main explanatory variables (drivers) are activity
indicators (economic activity) and corresponding energy costs. The type
of “demand” is computed based on its past value, the ratio of the
current and past activity indicators (with the corresponding
elasticity), and the ratio of lagged energy costs (with the
corresponding elasticities). This type of equation captures both short
term and long term reactions to energy costs. * Prices The equation
computes fuel prices per subsector and fuel with separate carbon values
in each sector for a specific scenario, subsector, fuel, and year.The
equation considers various scenarios based on the type of fuel and
whether it is subject to changes in carbon values. It incorporates
factors such as carbon emission factors carbon values for all countries,
electricity prices to industrial and residential consumers, efficiency
values, and the total hydrogen cost per sector.The result of the
equation is the fuel price per subsector and fuel, adjusted based on
changes in carbon values, electricity prices, efficiency, and hydrogen
costs.</p>
<pre><code>Q08PriceFuelSubsecCarVal(allCy,SBS,EF,YTIME)$(SECTTECH(SBS,EF) $TIME(YTIME) $(not sameas(&quot;NUC&quot;,EF)) $runCy(allCy))..
         VMVPriceFuelSubsecCarVal(allCy,SBS,EF,YTIME)
                 =E=
         (VMVPriceFuelSubsecCarVal(allCy,SBS,EF,YTIME-1) +
          iCo2EmiFac(allCy,SBS,EF,YTIME) * sum(NAP$NAPtoALLSBS(NAP,SBS),(VCarVal(allCy,NAP,YTIME)))/1000
         )$( not (ELCEF(EF) or HEATPUMP(EF) or ALTEF(EF)))
         +
         (
          VMVPriceFuelSubsecCarVal(allCy,SBS,EF,YTIME-1)$(DSBS(SBS))$ALTEF(EF)
         )
         +
         (
           ( VMVPriceElecIndResConsu(allCy,&quot;i&quot;,YTIME)$INDTRANS(SBS)+VMVPriceElecIndResConsu(allCy,&quot;r&quot;,YTIME)$RESIDENT(SBS))/sTWhToMtoe
            +
            ((iEffValueInDollars(allCy,SBS,YTIME))/1000)$DSBS(SBS)
         )$(ELCEF(EF) or HEATPUMP(EF))
         +
         (
                 iHydrogenPri(allCy,SBS,YTIME-1)$DSBS(SBS)
         )$(H2EF(EF) or sameas(&quot;STE1AH2F&quot;,EF));</code></pre>
<p>The equation calculates the fuel prices per subsector and fuel
multiplied by weights considering separate carbon values in each sector.
This equation is applied for a specific scenario, subsector, fuel, and
year. The calculation involves multiplying the sector’s average price
weight based on fuel consumption by the fuel price per subsector and
fuel. The weights are determined by the sector’s average price,
considering the specific fuel consumption for the given scenario,
subsector, and fuel. This equation allows for a more nuanced calculation
of fuel prices, taking into account the carbon values in each sector.
The result represents the fuel prices per subsector and fuel, multiplied
by the corresponding weights, and adjusted based on the specific carbon
values in each sector.</p>
<pre><code>QPriceFuelSepCarbonWght(allCy,DSBS,EF,YTIME)$(SECTTECH(DSBS,EF) $TIME(YTIME) $runCy(allCy))..
        VPriceFuelSepCarbonWght(allCy,DSBS,EF,YTIME)
          =E= 
        iWgtSecAvgPriFueCons(allCy,DSBS,EF) * VMVPriceFuelSubsecCarVal(allCy,DSBS,EF,YTIME);</code></pre>
<p>The equation calculates the average fuel price per subsector. These
average prices are used to further compute electricity prices in
industry (using the OI “other industry” avg price), as well as the
aggregate fuel demand (of substitutable fuels) per subsector. In the
transport sector they feed into the calculation of the activity
levels.</p>
<pre><code>Q08PriceFuelAvgSub(allCy,DSBS,YTIME)$(TIME(YTIME)$(runCy(allCy)))..
        VMVPriceFuelAvgSub(allCy,DSBS,YTIME)
                 =E=
         sum(EF$SECTTECH(DSBS,EF), VPriceFuelSepCarbonWght(allCy,DSBS,EF,YTIME));         </code></pre>
<p>The equation calculates the electricity price for industrial and
residential consumers in a given scenario, energy set, and year. The
electricity price is based on the previous year’s production costs,
incorporating various factors such as fuel prices, factors affecting
electricity prices to consumers, and long-term average power generation
costs. The equation is structured to handle different energy sets. It
calculates the electricity price for industrial consumers and
residential consumers separately. The electricity price is influenced by
fuel prices, factors affecting electricity prices, and long-term average
power generation costs. It provides a comprehensive representation of
the factors contributing to the electricity price for industrial and
residential consumers in the specified scenario, energy set, and
year.</p>
<pre><code>Q08PriceElecIndResConsu(allCy,ESET,YTIME)$(TIME(YTIME)$(runCy(allCy)))..  !! The electricity price is based on previous year&#39;s production costs
        VMVPriceElecIndResConsu(allCy,ESET,YTIME)
                 =E=
        (1 + iVAT(allCy,YTIME)) *
        (
           (
             (VMVPriceFuelSubsecCarVal(allCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME-1)*sTWhToMtoe)$TFIRST(YTIME-1) +
             (
                VMVCostPowGenAvgLng(allCy,&quot;i&quot;,YTIME-1)
              )$(not TFIRST(YTIME-1))
           )$ISET(ESET)
        +
           (
             (VMVPriceFuelSubsecCarVal(allCy,&quot;HOU&quot;,&quot;ELC&quot;,YTIME-1)*sTWhToMtoe)$TFIRST(YTIME-1) +
             (
               VMVCostPowGenAvgLng(allCy,&quot;r&quot;,YTIME-1) 
             )$(not TFIRST(YTIME-1))
           )$RSET(ESET)
        );</code></pre>
<p>Compute electricity price in Industrial and Residential Consumers
excluding climate policies by multiplying the Factors affecting
electricity prices to consumers by the sum of Fuel prices per subsector
and fuel multiplied by the TWh to Mtoe conversion factor adding the
Factors affecting electricity prices to consumers and the Long-term
average power generation cost excluding climate policies for Electricity
of Other Industrial sectors and for Electricity for Households .</p>
<pre><code>Q08PriceElecIndResNoCliPol(allCy,ESET,YTIME)$(TIME(YTIME)$(runCy(allCy)))..   !! The electricity price is based on previous year&#39;s production costs
        VMVPriceElecIndResNoCliPol(allCy,ESET,YTIME)
                 =E=
        (1 + iVAT(allCy, YTIME)) *
        (
           (
             (VMVPriceFuelSubsecCarVal(allCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME-1)*sTWhToMtoe)$TFIRST(YTIME-1) +
             (
               VCostPowGenLonNoClimPol(allCy,&quot;i&quot;,YTIME-1) 
              )$(not TFIRST(YTIME-1))
           )$ISET(ESET)
        +
           (
             (VMVPriceFuelSubsecCarVal(allCy,&quot;HOU&quot;,&quot;ELC&quot;,YTIME-1)*sTWhToMtoe)$TFIRST(YTIME-1) +
             (
                VCostPowGenLonNoClimPol(allCy,&quot;r&quot;,YTIME-1) 
             )$(not TFIRST(YTIME-1))
           )$RSET(ESET)
        );</code></pre>
<p>This equation calculates the fuel prices per subsector and fuel,
specifically for Combined Heat and Power (CHP) plants, considering the
profit earned from electricity sales. The equation incorporates various
factors such as the base fuel price, renewable value, variable cost of
technology, useful energy conversion factor, and the fraction of
electricity price at which a CHP plant sells electricity to the network.
The fuel price for CHP plants is determined by subtracting the relevant
components for CHP plants (fuel price for electricity generation and a
fraction of electricity price for CHP sales) from the overall fuel price
for the subsector. Additionally, the equation includes a square root
term to handle complex computations related to the difference in fuel
prices. This equation provides insights into the cost considerations for
fuel in the context of CHP plants, considering various economic and
technical parameters.</p>
<pre><code>Q08PriceFuelSubsecCHP(allCy,DSBS,EF,YTIME)$(TIME(YTIME) $(not TRANSE(DSBS))  $SECTTECH(DSBS,EF) $runCy(allCy))..
        VMVPriceFuelSubsecCHP(allCy,DSBS,EF,YTIME)
                =E=   
             (((VMVPriceFuelSubsecCarVal(allCy,DSBS,EF,YTIME) + (VRenValue(YTIME)/1000)$(not RENEF(EF))+iVarCostTech(allCy,DSBS,EF,YTIME)/1000)/iUsfEneConvSubTech(allCy,DSBS,EF,YTIME)- 
               (0$(not CHP(EF)) + (VMVPriceFuelSubsecCarVal(allCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME)*sFracElecPriChp*VMVPriceElecInd(allCy,YTIME))$CHP(EF)))  + SQRT( SQR(((VMVPriceFuelSubsecCarVal(allCy,DSBS,EF,YTIME)+iVarCostTech(allCy,DSBS,EF,YTIME)/1000)/iUsfEneConvSubTech(allCy,DSBS,EF,YTIME)- 
              (0$(not CHP(EF)) + (VMVPriceFuelSubsecCarVal(allCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME)*sFracElecPriChp*VMVPriceElecInd(allCy,YTIME))$CHP(EF))))  ) )/2;</code></pre>
<p>This equation determines the electricity industry prices based on an
estimated electricity index and a technical maximum of the electricity
to steam ratio in Combined Heat and Power plants. The industry prices
are calculated as a function of the estimated electricity index and the
specified maximum electricity to steam ratio. The equation ensures that
the electricity industry prices remain within a realistic range,
considering the technical constraints of CHP plants. It involves the
estimated electricity index, and a technical maximum of the electricity
to steam ratio in CHP plants is incorporated to account for the specific
characteristics of these facilities. This equation ensures that the
derived electricity industry prices align with the estimated index and
technical constraints, providing a realistic representation of the
electricity market in the industrial sector.</p>
<pre><code>Q08PriceElecInd(allCy,YTIME)$(TIME(YTIME)$(runCy(allCy)))..
         VMVPriceElecInd(allCy,YTIME) =E=
        ( VIndxElecIndPrices(allCy,YTIME) + sElecToSteRatioChp - SQRT( SQR(VIndxElecIndPrices(allCy,YTIME)-sElecToSteRatioChp)  ) )/2;</code></pre>
<pre><code>table iFuelPrice(allCy,SBS,EF,YTIME)     &quot;Prices of fuels per subsector (k$2015/toe)&quot;
$ondelim
$include&quot;./iFuelPrice.csv&quot;
$offdelim
;
Parameters
iDiffFuelsInSec(SBS)                     &quot;Auxiliary parameter holding the number of different fuels in a sector&quot;
iWgtSecAvgPriFueCons(allCy,SBS,EF)        &quot;Weights for sector&#39;s average price, based on fuel consumption (1)&quot;
iVAT(allCy,YTIME)                        &quot;VAT (value added tax) rates (1)&quot;
iHydrogenPri(allCy,SBS,YTIME)              &quot;Total Hydrogen Cost Per Sector (US$2015/toe)&quot;
iElecIndex(allCy,YTIME)                 &quot;Electricity Index (1)&quot;
;
loop SBS do
         iDiffFuelsInSec(SBS) = 0;
         loop EF$(SECTTECH(SBS,EF) $(not plugin(EF)))  do
              iDiffFuelsInSec(SBS) = iDiffFuelsInSec(SBS)+1;
         endloop;
endloop;
iWgtSecAvgPriFueCons(runCy,TRANSE,EF)$(SECTTECH(TRANSE,EF) $(not plugin(EF)) ) = (iFuelConsPerFueSub(runCy,TRANSE,EF,&quot;%fBaseY%&quot;) / iTotFinEneDemSubBaseYr(runCy,TRANSE,&quot;%fBaseY%&quot;))$iTotFinEneDemSubBaseYr(runCy,TRANSE,&quot;%fBaseY%&quot;)
                                               + (1/iDiffFuelsInSec(TRANSE))$(not iTotFinEneDemSubBaseYr(runCy,TRANSE,&quot;%fBaseY%&quot;));
iWgtSecAvgPriFueCons(runCy,NENSE,EF)$SECTTECH(NENSE,EF) = ( iFuelConsPerFueSub(runCy,NENSE,EF,&quot;%fBaseY%&quot;) / iTotFinEneDemSubBaseYr(runCy,NENSE,&quot;%fBaseY%&quot;) )$iTotFinEneDemSubBaseYr(runCy,NENSE,&quot;%fBaseY%&quot;)
                                             + (1/iDiffFuelsInSec(NENSE))$(not iTotFinEneDemSubBaseYr(runCy,NENSE,&quot;%fBaseY%&quot;));
iWgtSecAvgPriFueCons(runCy,INDDOM,EF)$(SECTTECH(INDDOM,EF)$(not sameas(EF,&quot;ELC&quot;))) = ( iFuelConsPerFueSub(runCy,INDDOM,EF,&quot;%fBaseY%&quot;) / (iTotFinEneDemSubBaseYr(runCy,INDDOM,&quot;%fBaseY%&quot;) - iFuelConsPerFueSub(runCy,INDDOM,&quot;ELC&quot;,&quot;%fBaseY%&quot;)) )$( iTotFinEneDemSubBaseYr(runCy,INDDOM,&quot;%fBaseY%&quot;) - iFuelConsPerFueSub(runCy,INDDOM,&quot;ELC&quot;,&quot;%fBaseY%&quot;) )
                                                                        + (1/(iDiffFuelsInSec(INDDOM)-1))$(not (iTotFinEneDemSubBaseYr(runCy,INDDOM,&quot;%fBaseY%&quot;) - iFuelConsPerFueSub(runCy,INDDOM,&quot;ELC&quot;,&quot;%fBaseY%&quot;)));
iWgtSecAvgPriFueCons(runCy,SBS,EF)$(SECTTECH(SBS,EF) $sum(ef2$SECTTECH(SBS,EF),iWgtSecAvgPriFueCons(runCy,SBS,EF2))) = iWgtSecAvgPriFueCons(runCy,SBS,EF)/sum(ef2$SECTTECH(SBS,EF),iWgtSecAvgPriFueCons(runCy,SBS,EF2));
iVAT(runCy, YTIME) = 0;
iHydrogenPri(runCy,SBS,YTIME)=4.3;
iElecIndex(runCy,YTIME) = 0.9;
iFuelPrice(runCy,SBS,EF,YTIME) = iFuelPrice(runCy,SBS,EF,YTIME)/1000; !! change units $15 -&gt; k$15</code></pre>
<p><em>VARIABLE INITIALISATION</em></p>
<pre><code>VPriceFuelSepCarbonWght.scale(runCy,DSBS,EF,YTIME)=1e-6;
QPriceFuelSepCarbonWght.scale(runCy,DSBS,EF,YTIME)=VPriceFuelSepCarbonWght.scale(runCy,DSBS,EF,YTIME);
VMVPriceFuelSubsecCarVal.L(runCy,SBS,EF,YTIME) = 1.5;
VMVPriceFuelSubsecCarVal.L(runCy,&quot;PG&quot;,PGEF,YTIME)=1;
VMVPriceFuelSubsecCarVal.FX(runCy,SBS,EF,YTIME)$(SECTTECH(SBS,EF)$(not HEATPUMP(EF))$(not An(YTIME))) = iFuelPrice(runCy,SBS,EF,YTIME);
VMVPriceFuelSubsecCarVal.FX(runCy,SBS,ALTEF,YTIME)$(SECTTECH(SBS,ALTEF)$(not An(YTIME))) = sum(EF$ALTMAP(SBS,ALTEF,EF),iFuelPrice(runCy,SBS,EF,YTIME));
VMVPriceFuelSubsecCarVal.FX(runCy,&quot;PG&quot;,&quot;NUC&quot;,YTIME) = 0.025; !! fixed price for nuclear fuel to 25Euro/toe
VMVPriceFuelSubsecCarVal.FX(runCy,&quot;H2P&quot;,&quot;NUC&quot;,YTIME) = 0.025; !! fixed price for nuclear fuel to 25Euro/toe
VMVPriceFuelSubsecCarVal.FX(runCy,SBS,&quot;MET&quot;,YTIME)$(not An(YTIME)) = 800; !! fixed price methanol
VMVPriceFuelSubsecCarVal.FX(runCy,SBS,&quot;ETH&quot;,YTIME)$(not An(YTIME)) = 800; !! fixed price for ethanol
VMVPriceFuelSubsecCarVal.FX(runCy,SBS,&quot;BGDO&quot;,YTIME)$(not An(YTIME)) = 350; !! fixed price for biodiesel
VMVPriceFuelSubsecCarVal.FX(runCy,INDDOM,&quot;HEATPUMP&quot;,YTIME)$(SECTTECH(INDDOM,&quot;HEATPUMP&quot;)$(not An(YTIME))) = iFuelPrice(runCy,INDDOM,&quot;ELC&quot;,YTIME);
VMVPriceFuelSubsecCarVal.FX(runCy,&quot;H2P&quot;,EF,YTIME)$(SECTTECH(&quot;H2P&quot;,EF)$(not An(YTIME))) = VMVPriceFuelSubsecCarVal.L(runCy,&quot;PG&quot;,EF,YTIME);
VMVPriceFuelSubsecCarVal.FX(runCy,&quot;H2P&quot;,&quot;ELC&quot;,YTIME)$(not An(YTIME))= VMVPriceFuelSubsecCarVal.L(runCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME);
VMVPriceElecIndResConsu.FX(runCy,&quot;i&quot;,YTIME)$(not An(YTIME)) = VMVPriceFuelSubsecCarVal.L(runCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME)*sTWhToMtoe;
VMVPriceElecIndResConsu.FX(runCy,&quot;r&quot;,YTIME)$(not An(YTIME)) = VMVPriceFuelSubsecCarVal.L(runCy,&quot;HOU&quot;,&quot;ELC&quot;,YTIME)*sTWhToMtoe;
VMVPriceFuelAvgSub.L(runCy,DSBS,YTIME) = 0.1;
VMVPriceFuelAvgSub.FX(runCy,DSBS,YTIME)$(not An(YTIME)) = sum(EF$SECTTECH(DSBS,EF), iWgtSecAvgPriFueCons(runCy,DSBS,EF) * iFuelPrice(runCy,DSBS,EF,YTIME));
VFuelPriSubNoCarb.FX(runCy,SBS,EF,YTIME)$(SECTTECH(SBS,EF) $(not HEATPUMP(EF))  $(not An(YTIME))) = iFuelPrice(runCy,SBS,EF,YTIME);
VFuelPriSubNoCarb.FX(runCy,SBS,ALTEF,YTIME)$(SECTTECH(SBS,ALTEF) $(not An(YTIME))) = sum(EF$ALTMAP(SBS,ALTEF,EF),iFuelPrice(runCy,SBS,EF,YTIME));
VFuelPriSubNoCarb.FX(runCy,&quot;PG&quot;,&quot;NUC&quot;,YTIME) = 0.025; !! fixed price for nuclear fuel to 25Euro/toe
VFuelPriSubNoCarb.FX(runCy,INDDOM,&quot;HEATPUMP&quot;,YTIME)$(SECTTECH(INDDOM,&quot;HEATPUMP&quot;)$(not An(YTIME))) = iFuelPrice(runCy,INDDOM,&quot;ELC&quot;,YTIME);
VMVPriceElecIndResNoCliPol.FX(runCy,&quot;i&quot;,YTIME)$(not an(ytime)) = VMVPriceFuelSubsecCarVal.L(runCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME)*0.086;
VMVPriceElecIndResNoCliPol.FX(runCy,&quot;r&quot;,YTIME)$(not an(ytime)) = VMVPriceFuelSubsecCarVal.L(runCy,&quot;HOU&quot;,&quot;ELC&quot;,YTIME)*0.086;
VMVPriceElecInd.L(runCy,YTIME)= 0.9;
VMVPriceElecInd.FX(runCy,YTIME)$TFIRST(YTIME) = iElecIndex(runCy,YTIME);
VMVPriceFuelSubsecCHP.FX(runCy,DSBS,EF,YTIME)$((not An(YTIME)) $(not TRANSE(DSBS))  $SECTTECH(DSBS,EF)) =
(((VMVPriceFuelSubsecCarVal.L(runCy,DSBS,EF,YTIME)+iVarCostTech(runCy,DSBS,EF,YTIME)/1000)/iUsfEneConvSubTech(runCy,DSBS,EF,YTIME)- 
(0$(not CHP(EF)) + (VMVPriceFuelSubsecCarVal.L(runCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME)*sFracElecPriChp*iElecIndex(runCy,&quot;2010&quot;))$CHP(EF))) + (0.003) + 
SQRT( SQR(((VMVPriceFuelSubsecCarVal.L(runCy,DSBS,EF,YTIME)+iVarCostTech(runCy,DSBS,EF,YTIME)/1000)/iUsfEneConvSubTech(runCy,DSBS,EF,YTIME)- (0$(not CHP(EF)) + 
(VMVPriceFuelSubsecCarVal.L(runCy,&quot;OI&quot;,&quot;ELC&quot;,YTIME)*sFracElecPriChp*iElecIndex(runCy,&quot;2010&quot;))$CHP(EF)))-(0.003)) + SQR(1e-7) ) )/2;</code></pre>
<blockquote>
<p><strong>Limitations</strong> There are no known limitations.</p>
</blockquote>
<h2 id="definitions">Definitions</h2>
<h3 id="objects">Objects</h3>
<table>
<caption>module-internal objects (A: legacy)</caption>
<colgroup>
<col style="width: 34%" />
<col style="width: 39%" />
<col style="width: 21%" />
<col style="width: 4%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"> </th>
<th style="text-align: center;">Description</th>
<th style="text-align: center;">Unit</th>
<th style="text-align: center;">A</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">iDiffFuelsInSec<br />
(SBS)</td>
<td style="text-align: center;">Auxiliary parameter holding the number
of different fuels in a sector</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;">iElecIndex<br />
(allCy, YTIME)</td>
<td style="text-align: center;">Electricity Index</td>
<td style="text-align: center;"><span
class="math inline">\(1\)</span></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iFuelPrice<br />
(allCy, SBS, EF, YTIME)</td>
<td style="text-align: center;">Prices of fuels per subsector</td>
<td style="text-align: center;"><span
class="math inline">\(k\$2015/toe\)</span></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;">iHydrogenPri<br />
(allCy, SBS, YTIME)</td>
<td style="text-align: center;">Total Hydrogen Cost Per Sector</td>
<td style="text-align: center;"><span
class="math inline">\(US\$2015/toe\)</span></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="odd">
<td style="text-align: center;">iVAT<br />
(allCy, YTIME)</td>
<td style="text-align: center;">VAT (value added tax) rates</td>
<td style="text-align: center;"><span
class="math inline">\(1\)</span></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;">iWgtSecAvgPriFueCons<br />
(allCy, SBS, EF)</td>
<td style="text-align: center;">Weights for sector’s average price,
based on fuel consumption</td>
<td style="text-align: center;"><span
class="math inline">\(1\)</span></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q08PriceElecInd<br />
(allCy, YTIME)</td>
<td style="text-align: center;">Compute electricity industry prices</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q08PriceElecIndResConsu<br />
(allCy, ESET, YTIME)</td>
<td style="text-align: center;">Compute electricity price in Industrial
and Residential Consumers</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q08PriceElecIndResNoCliPol<br />
(allCy, ESET, YTIME)</td>
<td style="text-align: center;">Compute electricity price in Industrial
and Residential Consumers excluding climate policies</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q08PriceFuelAvgSub<br />
(allCy, DSBS, YTIME)</td>
<td style="text-align: center;">Compute average fuel price per
subsector</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Q08PriceFuelSubsecCarVal<br />
(allCy, SBS, EF, YTIME)</td>
<td style="text-align: center;">Compute fuel prices per subsector and
fuel, separate carbon value in each sector</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;">Q08PriceFuelSubsecCHP<br />
(allCy, DSBS, EF, YTIME)</td>
<td style="text-align: center;">Compute fuel prices per subsector and
fuel especially for chp plants</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="odd">
<td style="text-align: center;">QPriceFuelSepCarbonWght<br />
(allCy, SBS, EF, YTIME)</td>
<td style="text-align: center;">Compute fuel prices per subsector and
fuel, separate carbon value in each sector</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;">VFuelPriSubNoCarb<br />
(allCy, SBS, EF, YTIME)</td>
<td style="text-align: center;">Fuel prices per subsector and fuel
without carbon value</td>
<td style="text-align: center;"><span
class="math inline">\(kUS\$2015/toe\)</span></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="odd">
<td style="text-align: center;">VMVPriceElecIndResNoCliPol<br />
(allCy, ESET, YTIME)</td>
<td style="text-align: center;">Electricity price to Industrial and
Residential Consumers</td>
<td style="text-align: center;"><span
class="math inline">\(US\$2015/KWh\)</span></td>
<td style="text-align: center;">x</td>
</tr>
<tr class="even">
<td style="text-align: center;">VPriceFuelSepCarbonWght<br />
(allCy, SBS, EF, YTIME)</td>
<td style="text-align: center;">Fuel prices per subsector and fuel
mutliplied by weights</td>
<td style="text-align: center;"><span
class="math inline">\(kUS\$2015/toe\)</span></td>
<td style="text-align: center;">x</td>
</tr>
</tbody>
</table>
<h3 id="sets">Sets</h3>
<table style="width:72%;">
<caption>sets in use</caption>
<colgroup>
<col style="width: 27%" />
<col style="width: 44%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"> </th>
<th style="text-align: center;">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">allCy</td>
<td style="text-align: center;">All Countries Used in the Model</td>
</tr>
<tr class="even">
<td style="text-align: center;">ALTEF(EF)</td>
<td style="text-align: center;">Alternative Fuels used in transport</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ALTMAP(SBS, EF, EF)</td>
<td style="text-align: center;">Fuels whose prices affect the prices of
alternative fuels</td>
</tr>
<tr class="even">
<td style="text-align: center;">an(ytime)</td>
<td style="text-align: center;">Years for which the model is
running</td>
</tr>
<tr class="odd">
<td style="text-align: center;">CHP(EF)</td>
<td style="text-align: center;">CHP Plants</td>
</tr>
<tr class="even">
<td style="text-align: center;">DSBS(SBS)</td>
<td style="text-align: center;">All Demand Subsectors</td>
</tr>
<tr class="odd">
<td style="text-align: center;">EF</td>
<td style="text-align: center;">Energy Forms</td>
</tr>
<tr class="even">
<td style="text-align: center;">ELCEF(EF)</td>
<td style="text-align: center;">Electricity</td>
</tr>
<tr class="odd">
<td style="text-align: center;">H2EF(EF)</td>
<td style="text-align: center;">Hydrogen</td>
</tr>
<tr class="even">
<td style="text-align: center;">HEATPUMP(EF)</td>
<td style="text-align: center;">Heatpumps are reducing the heat
requirements of the sector but increasing electricity consumption</td>
</tr>
<tr class="odd">
<td style="text-align: center;">HOU(DSBS)</td>
<td style="text-align: center;">Households</td>
</tr>
<tr class="even">
<td style="text-align: center;">INDDOM(DSBS)</td>
<td style="text-align: center;">Industry and Tertiary</td>
</tr>
<tr class="odd">
<td style="text-align: center;">INDTRANS(SBS)</td>
<td style="text-align: center;">Industry and Transport</td>
</tr>
<tr class="even">
<td style="text-align: center;">NAP(Policies_set)</td>
<td style="text-align: center;">National Allocation Plan sector
categories</td>
</tr>
<tr class="odd">
<td style="text-align: center;">NAPtoALLSBS(NAP, ALLSBS)</td>
<td style="text-align: center;">Energy sectors corresponding to NAP
sectors</td>
</tr>
<tr class="even">
<td style="text-align: center;">NENSE(DSBS)</td>
<td style="text-align: center;">Non Energy and Bunkers</td>
</tr>
<tr class="odd">
<td style="text-align: center;">PGEF(EFS)</td>
<td style="text-align: center;">Energy forms used for power
generation</td>
</tr>
<tr class="even">
<td style="text-align: center;">RENEF(EF)</td>
<td style="text-align: center;">Renewable technologies in demand
side</td>
</tr>
<tr class="odd">
<td style="text-align: center;">RESIDENT(SBS)</td>
<td style="text-align: center;">Residential</td>
</tr>
<tr class="even">
<td style="text-align: center;">runCy(allCy)</td>
<td style="text-align: center;">Countries for which the model is
running</td>
</tr>
<tr class="odd">
<td style="text-align: center;">runCyL(allCy)</td>
<td style="text-align: center;">Countries for which the model is running
(used in countries loop)</td>
</tr>
<tr class="even">
<td style="text-align: center;">SBS(ALLSBS)</td>
<td style="text-align: center;">Model Subsectors</td>
</tr>
<tr class="odd">
<td style="text-align: center;">SECTTECH(SBS, EF)</td>
<td style="text-align: center;">Link between Model Subsectors and
Fuels</td>
</tr>
<tr class="even">
<td style="text-align: center;">TRANSE(DSBS)</td>
<td style="text-align: center;">All Transport Subsectors</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ytime</td>
<td style="text-align: center;">Model time horizon</td>
</tr>
</tbody>
</table>
<h2 id="see-also">See Also</h2>
<p><a href="01_Transport.htm">01_Transport</a>, <a
href="02_Industry.htm">02_Industry</a>, <a
href="04_PowerGeneration.htm">04_PowerGeneration</a>, <a
href="05_Hydrogen.htm">05_Hydrogen</a>, <a href="core.htm">core</a></p>
<h2 id="references">References</h2>
<script>
window.onscroll = function() {myFunction()};

var navbar = document.getElementById("pagenav");
var sticky = navbar.offsetTop;

function myFunction() {
  var currentScrollPos = window.pageYOffset;
  if (window.pageYOffset >= sticky) {
    if (prevScrollpos > currentScrollPos) {
      document.getElementById("pagenav").style.top = "0";
      document.getElementById("pagenav").style.position = "fixed";
    } else {
      document.getElementById("pagenav").style.top = "-50px";
    }
  } else {
      document.getElementById("pagenav").style.position = "static";
  }
  prevScrollpos = currentScrollPos;
}
</script>
</body>
</html>
